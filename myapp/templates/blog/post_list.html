{% extends 'blog/base.html' %}

{% block content %}
<div class="content-wrapper">
  <h2>글 목록</h2>
  <div class="post-list">
	{% for post in posts %}
	  <article class="post-item">
		<h3><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h3>
		<p class="meta">{{ post.created_date|date:"F d, Y" }}</p>
	  </article>
	  {% empty %}
	  <p>글이 없습니다.</p>
	{% endfor %}
	
	{% if posts.has_other_pages %}
	  <div class="pagination">
		{% if posts.has_previous %}
		  <a href="?page=1">처음</a>
		  <a href="?page={{ posts.previous_page_number }}">&laquo; 이전</a>
		{% endif %}

		{% for i in posts.paginator.page_range %}
		  {% if posts.number == num %}
		  <strong>{{ num }}</strong>
		  {% else %}
		  <a href="?page={{ num }}">{{ num }}</a>
		  {% endif %}
		{% endfor %}

		{% if posts.has_next %}
		  <a href="?page={{ posts.next_page_number }}">다음 &raquo;</a>
		  <a href="?page={{ posts.paginator.num_pages }}">마지막</a>
		{% endif %}
	  </div>
	{% endif %}
  </div>
</div>
{% endblock %}